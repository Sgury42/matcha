{"version":3,"sources":["theme.js","redux/objects/actions.js","redux/requests/user.js","redux/requests/profile.js","components/SignUpForm.js","components/LogInForm.js","components/PictureUpload.js","components/DescriptionUpload.js","components/HashtagsUpload.js","components/OrientationUpload.js","components/SlidersOptions.js","components/DeleteAccount.js","components/EmailUpdate.js","components/LoginUpdate.js","components/MatchListBox.js","components/PasswdUpdate.js","components/ProfileBox.js","components/SwipeBox.js","components/NavBar.js","components/Location.js","components/Chat.js","pages/CreateProfilePage.js","pages/HomePage.js","pages/LogInPage.js","pages/MatchListPage.js","pages/NotFoundPage.js","pages/ProfilePage.js","pages/SettingsPage.js","App.js","socket/notifications.js","redux/objects/reducer.js","redux/store.js","index.js"],"names":["theme","createMuiTheme","matchaTheme","palette","primary","main","grey","light","secondary","red","green","overrides","MuiAppBar","colorDefault","backgroundColor","boxShadow","MuiCard","root","marginTop","spacing","padding","width","height","setObject","objectName","object","type","updateObject","deleteObject","sendReq","route","form","dispatch","axios","post","headers","then","response","Cookies","set","data","token","fetchCurrentUser","window","location","href","console","log","catch","error","status","a","get","Promise","all","res1","res2","res3","profilePicture","url_picture","pictures","fetchDatas","path","usrLocation","perimeter","length","matches","forEach","el","date","Date","lastConnection","newEl","Intl","DateTimeFormat","year","month","day","format","push","cibles","getPreciseDistance","distance","sort","b","score","hashtags","usrHashtags","put","updateProfile","login","research_age_min","research_ageMin","research_age_max","research_ageMax","research_perimeter","deletePicture","deleteFrom","delete","params","item","usrInteraction","index","useStyles","makeStyles","box","margin","grow","flexGrow","formTitle","marginBottom","SignUpForm","history","useHistory","classes","useDispatch","alert","useSelector","state","objects","useState","open","setOpen","firstname","name","mail","passwd","repeatPasswd","dateBirth","gender","latitude","longitude","setForm","loginError","genderError","nameError","firstnameError","mailError","passwdError","repeatPasswdError","errors","setErrors","useEffect","method","lat","lng","err","handleChange","e","target","value","Grid","container","justify","xs","sm","md","lg","Card","className","card","Snackbar","autoHideDuration","transitionDuration","message","onClose","onSubmit","preventDefault","newErrors","test","Object","keys","formIsValid","Typography","variant","align","id","alignItems","direction","RadioGroup","aria-label","onChange","FormControlLabel","control","Radio","label","color","TextField","Boolean","helperText","required","InputLabelProps","shrink","IconButton","submitButton","link","LogInForm","isLoggedIn","auth","handleClick","action","handleClose","Button","Link","onClick","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","autoFocus","fullWidth","DialogActions","borderRadius","flexItem","display","flexDirection","defaultProps","m","style","maxWidth","maxHeight","overflow","PictureUpload","props","ppIcon","preview","setProfilePicture","setPictures","imgCounter","setImgCounter","isDisabled","setIsDisabled","PPMissing","setPPMissing","prevProfilePicture","files","formData","FormData","append","profilePictureUpload","pictureUpload","alignContent","Box","src","alt","accept","input","htmlFor","component","fontSize","items","key","entries","disabled","justifySelf","handleSubmit","DescriptionUpload","useTheme","description","charCount","setCharCount","multiline","rows","hashtagsCards","maxLength","addButton","HashtagsUpload","setUsrHashtags","listHashtags","setListHashtags","hashtagInput","setHashtagInput","tmpArray","map","hashtag","indexOf","splice","handleAdd","Chip","onDelete","handleDelete","InputProps","startAdornment","size","parseInt","clickable","createProfile","OrientationUpload","isMounted","setIsMounted","research_gender","orientation","SlidersOptions","ageRange","handleAgeChange","newValue","timer","setTimeout","clearTimeout","Slider","max","Input","onBlur","Number","inputProps","step","min","valueLabelDisplay","DeleteAccount","Alert","remove","EmailUpdate","setError","LoginUpdate","seterror","avatar","transform","icons","MatchListBox","to_id","match","reload","userInfos","usrId","currentUserId","Tooltip","title","arrow","Avatar","online","CardActions","PasswdUpdate","halfGrow","iconButton","likeButton","marginLeft","hashtagBox","textInfos","botMarg","ProfileBox","datas","setDatas","fetch","json","results","formatted_address","CardMedia","GridList","cellHeight","cols","tile","GridListTile","CardContent","age","overflowY","SwipeBox","setLastConnection","address","setAddress","cibleLocation","getAddress","edge","from_id","currentUser","like_id","menuButton","marginRight","textDecoration","titleLink","newNotif","border","oldNotif","NavBar","drowerIsOpen","setDrowerIsOpen","notifications","notificationCount","setNotificationCount","count","notif","logOut","socketIOClient","close","AppBar","position","Toolbar","to","Fragment","notifCount","Badge","badgeContent","overlap","Drawer","anchor","margBot","Location","currentAddress","setCurrentAddress","handleSelect","geocodeByAddress","getLatLng","LatLon","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","suggestion","active","App","reqMessages","messages","tmp","getMessages","copie","slice","setState","getStyle","from","handleChangeInput","event","currentTarget","newMessage","chat_id","myInterval","setInterval","styles","channelList","flex","overflowX","bottom","float","btn","right","talkbubble","talktext","textAlign","lineHeight","loginmsg","fontWeight","this","noValidate","autoComplete","Component","CreateProfilePage","profileStep","dataLoaded","setDataLoaded","HomePage","LogInPage","MatchListPage","NotFoundPage","ProfilePage","wrap","SettingsPage","isLogged","socket","on","emit","msg","connectSocket","CssBaseline","exact","Chat","initialState","objectsReducer","edited","_","isEqual","newCibles","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c027227.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport { red, grey, green } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme();\n\nconst matchaTheme = createMuiTheme({\n    palette: {\n        primary: {\n            main: grey[900],\n            light: grey[700],\n        },\n        secondary: {\n          main: red[700],\n          light: green[500]\n        }\n    },\n    overrides: {\n        MuiAppBar: {\n            colorDefault: {\n                backgroundColor: 'transparent',\n                boxShadow: 'none',\n            }\n        },\n        MuiCard: {\n          root: {\n          marginTop: theme.spacing(5),\n          padding: 15,\n          width: '100%',\n          height: 'fit-content',\n        },\n      },\n    },\n\n});\n\nexport default matchaTheme;","export const setObject = (objectName, object) => {\n    return {\n        type: 'SET_OBJECT',\n        object,\n        objectName\n    }\n}\nexport const updateObject = (objectName, object) => {\n  return {\n    type: 'UPDATE_OBJECT',\n    object,\n    objectName\n  }\n}\nexport const deleteObject = (objectName) => {\n  return {\n    type: 'REMOVE_OBJECT',\n    objectName\n  }\n}\n\nexport const addItem = (objectName, item, data) => {\n  return {\n    type: 'ADD_ITEM',\n    item,\n    objectName, \n    data\n  }\n}\n\nexport const removeItem = (objectName, item, data) => {\n  return {\n    type: 'REMOVE_ITEM',\n    item, objectName,\n    data\n  }\n}\n\nexport const removeLiked = (objectName, index) => {\n  return {\n    type: 'REMOVE_LIKED',\n    index, objectName\n  }\n}\n\nexport const resetApp = () => {\n  return {\n    type: 'RESET_APP'\n  }\n}","import axios from 'axios';\nimport { setObject, resetApp } from '../objects/actions';\nimport Cookies from 'js-cookie';\nimport { getPreciseDistance } from 'geolib';\n\nexport const sendReq = (route, form) => {\n  return (dispatch) => {\n    axios.post('http://localhost:8080' + route, form, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\"\n      }\n    })\n    .then(function (response) {\n      switch(route) {\n        case '/accounts/login/':\n          Cookies.set('token', response.data.token);\n          dispatch(fetchCurrentUser());\n          window.location.href = 'http://localhost:3000/create-profile';\n          break ;\n        case '/accounts/register/':\n          dispatch(setObject('alert', 'Check your mail box !'));\n          dispatch(setObject('status', 'registrationOK'));\n          break ;\n        case '/accounts/forgotPasswd':\n          dispatch(setObject('alert', 'Check your mail box !'));\n          break ;\n        default:\n          console.log(response);\n      }\n    })\n    .catch(function (error) {\n      switch(route) {\n        case '/accounts/login/':\n          if (error.response && (error.response.status === 404 || error.response.status === 403))\n            dispatch(setObject('alert', 'Are you sure you already have an account?'));\n          else\n            dispatch(setObject('alert', 'Oups try again !'));\n          break ;\n        case '/accounts/register/':\n          console.log(error);\n          if (error.response)\n            dispatch(setObject('alert', error.response.data ? error.response.data : \"Oups something went wrong !\"));\n            break ;\n        case '/accounts/forgotPasswd':\n          dispatch(setObject('alert', 'Oups something went wrong !'))\n          break ;\n\n        default:\n          console.log(error);\n      }\n    })\n  }\n}\n\nexport function fetchCurrentUser() {\n  return async (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    try {\n      const [res1, res2, res3] = await Promise.all([\n        axios.get('http://localhost:8080/accounts/params/', {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n            \"token\": Cookies.get('token')\n          }\n        }),\n        axios.get('http://localhost:8080/accounts/getProfilePicture/', {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n            \"token\": Cookies.get('token')\n          }\n        }),\n        axios.get('http://localhost:8080/accounts/pictures', {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n            \"token\": Cookies.get('token')\n          }\n        })\n      ])\n      if (res2.data[0]) {\n        await dispatch(setObject('currentUser', {\n          ...res1.data,\n          profilePicture: res2.data[0].url_picture,\n          pictures: res3.data\n        }))\n      } else {\n        await dispatch(setObject('currentUser', {\n          ...res1.data,\n          pictures: res3.data\n        }))\n      }\n    } catch (e) {\n      console.log(e)\n      dispatch(setObject('auth', false))\n    }\n  }\n}\n\nexport const fetchLocation = () => {\n  return (dispatch) => {\n    const key = process.env.REACT_APP_GOOGLE_API_KEY;\n    axios('https://www.googleapis.com/geolocation/v1/geolocate?key=' + key, {\n      method : 'POST'\n    })\n    .then(response => {\n        dispatch(setObject('location', { 'latitude': response.data.location.lat, 'longitude': response.data.location.lng }));\n    })\n    .catch(err => console.log(err));\n  }\n}\n\nexport const fetchDatas = (path, usrLocation, perimeter) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.get('http://localhost:8080' + path, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(async function (response) {\n      if (path === '/matchs') {\n        if (response.data.length) {\n          const matches = [];\n          await response.data.forEach( async (el) => {\n            const date = new Date(el.lastConnection);\n            const newEl = el;\n            newEl['lastConnection'] = new Intl.DateTimeFormat('en-US', {year: 'numeric', month: '2-digit',day: '2-digit' }).format(date);\n            await matches.push(newEl);\n          });\n          await dispatch(setObject('matches', matches));\n        }\n      } else if (path === '/cibles') {\n        if (response.data.length) {\n          const cibles = [];\n          await response.data.forEach(async (el) => {\n            const distance = await getPreciseDistance(usrLocation, el.location);\n            if (distance < perimeter * 1000) {\n              const newEl = el;\n              newEl['distance'] = distance;\n              await cibles.push(newEl);\n            }\n          });\n          await cibles.sort((a, b) => (a.score > b.score) ? -1 : 1);\n          await dispatch(setObject('cibles', cibles));\n        }\n      } else if (path === '/notifications') {\n        dispatch(setObject('notifications', response.data));\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}\n\nexport const confirmEmail = (token) => {\n  return (dispatch) => {\n    axios.put('http://localhost:8080/accounts/confirm/' + token, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n      }\n    })\n    .then(function (response) {\n      dispatch(setObject('alert', 'email verified !'));\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}\n\nexport const disconnect = () => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.post('http://localhost:8080/disconnect', null, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      console.log(response);\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}\n\nexport const deleteAccount = () => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.delete('http://localhost:8080/accounts', {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      Cookies.remove('token');\n      dispatch(resetApp());\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}","import axios from 'axios';\nimport { setObject, updateObject, addItem, removeItem } from '../objects/actions';\nimport { fetchDatas } from './user';\nimport Cookies from 'js-cookie';\n\nexport const hashtags = (usrHashtags) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.put('http://localhost:8080/accounts/hashtags/', usrHashtags, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      dispatch(updateObject('currentUser', { hashtags: usrHashtags.hashtags }));\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}\n\nexport const updateProfile = (route, form) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.put('http://localhost:8080' + route, form, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      switch(route) {\n        case '/accounts/passwd/':\n          dispatch(setObject('alert', 'password updated !'));\n          break ;\n        case '/accounts/mail/':\n          dispatch(setObject('alert', 'email updated !'));\n          dispatch(updateObject('currentUser', form));\n          break ;\n        case '/accounts/userLogin/':\n          dispatch(setObject('alert', 'Hi ' + form.login));\n          dispatch(updateObject('currentUser', form));\n          break ;\n        case '/accounts/research/agemin/':\n          dispatch(updateObject('currentUser', {research_age_min: form.research_ageMin}));\n          break ;\n        case '/accounts/research/agemax':\n          dispatch(updateObject('currentUser', {research_age_max: form.research_ageMax}));\n          break ;\n        case '/accounts/locations':\n          dispatch(updateObject('currentUser', {location: form}));\n          break ;\n        case '/accounts/research/perimeter/':\n          dispatch(updateObject('currentUser', {research_perimeter: form.research_perimeter}));\n          break ;\n        case '/accounts/research/gender/':\n          dispatch(updateObject('currentUser', form));\n          break ;\n        case '/accounts/description/':\n          dispatch(updateObject('currentUser', form));\n          break ;\n        case '/notifications/read':\n          break ;\n\n        default :\n          console.log(form);\n      }\n    })\n    .catch(function (error) {\n      console.log(error.response);\n    })\n  }\n}\n\nexport const profilePictureUpload = (formData) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.post('http://localhost:8080/accounts/profilePicture', formData, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      dispatch(updateObject('currentUser', { 'profilePicture': response.data }));\n    })\n    .catch(function (error) {\n      console.log(error.response);\n    })\n  }\n}\n\nexport const pictureUpload = (formData) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.post('http://localhost:8080/accounts/pictures', formData, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      dispatch(addItem('currentUser', 'pictures', response.data));\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}\n\nexport const deletePicture = (form, deleteFrom) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.delete('http://localhost:8080/accounts/pictures', {\n      params: form,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      if (deleteFrom === 'pictures') {\n        dispatch(removeItem('currentUser', 'pictures', response.data));\n      }\n      else if (deleteFrom === 'profilePicture')\n        console.log(response);\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}\n\nexport const usrInteraction = (route, form, index) => {\n  return (dispatch) => {\n    if (!Cookies.get('token')) {\n      return dispatch(setObject('auth', false));\n    }\n    axios.post('http://localhost:8080' + route, form, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n        \"token\": Cookies.get('token')\n      }\n    })\n    .then(function (response) {\n      switch(route) {\n        case '/likes':\n          dispatch(setObject('index', index + 1));\n          if (response.status === 200) {\n            dispatch(usrInteraction('/notifications/like', form));\n          } else if (response.status === 250) {\n            dispatch(setObject('alert', 'NEW MATCH !'));\n            dispatch(usrInteraction('/notifications/match', form));\n            dispatch(fetchDatas('/matchs'));\n          }\n          break ;\n        case '/accounts/report':\n          dispatch(setObject('alert', 'user reported !'));\n          break ;\n          \n        default :\n        console.log(response);\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    })\n  }\n}","import React, { useState, useEffect} from 'react';\nimport { makeStyles, Card, Grid, TextField, Typography, IconButton, RadioGroup, Radio, FormControlLabel, Snackbar } from '@material-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\nimport { sendReq, fetchLocation } from '../redux/requests';\nimport { deleteObject } from '../redux/objects/actions';\nimport { useHistory } from \"react-router-dom\";\nimport Cookies from 'js-cookie';\n\nconst useStyles = makeStyles(theme => ({\n  box: {\n    margin: 'auto',\n    padding: theme.spacing(2),\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  formTitle: {\n    marginBottom: theme.spacing(4),\n  },\n}));\n  \n\nconst SignUpForm = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const alert = useSelector(state => state.objects.alert);\n  const location = useSelector(state => state.objects.location);\n  const status = useSelector(state => state.objects.status);\n  const [open, setOpen] = useState(false);\n\n  const [form, setForm] = useState({\n    login: '',\n    firstname: '',\n    name: '',\n    mail: '',\n    passwd: '',\n    repeatPasswd: '',\n    dateBirth: '2002-01-01',\n    gender: '',\n    latitude: 0,\n    longitude: 0\n  })\n  const { login, firstname, name, mail, passwd, repeatPasswd, dateBirth, gender } = form;\n  const [errors, setErrors] = useState({\n    loginError: null,\n    genderError: null,\n    nameError: null,\n    firstnameError: null,\n    mailError: null,\n    passwdError: null,\n    repeatPasswdError: null\n  });\n\n  useEffect(() => {\n    if (Cookies.get('token')) {\n      history.push('/');\n    } else {\n      dispatch(fetchLocation());\n    }\n  }, []);\n\n  useEffect(() => {\n    if (status === 'registrationOK') {\n      history.push('/');\n    }\n  }, [status]);\n\n  useEffect(() => {\n    setForm({ ...form, 'latitude': location.latitude ? location.latitude : 0, 'longitude': location.longitude ? location.longitude : 0});\n  }, [location]);\n\n  const formIsValid = () => {\n    const newErrors = {};\n    if (login.length < 2 || login.length > 50) {\n      newErrors.loginError = '2 to 50 characters';\n    }\n    if (gender !== 'F' && gender !== 'M') {\n      newErrors.genderError = 'gender required';\n    }\n    if (!firstname || firstname.length < 2 || firstname.length > 15) {\n      newErrors.firstnameError = '2 to 15 characters';\n    }\n    if (!name || name.length < 2 || name.length > 15) {\n      newErrors.nameError = '2 to 15 characters';\n    }\n    if (!mail || !(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(mail))) {\n    newErrors.mailError = 'email is not valid';\n    }\n    if (passwd.length < 5 || !(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/).test(passwd)) {\n      newErrors.passwdError = 'min 5 char, 1 Upcase, 1 number'\n    }\n    if (!repeatPasswd || repeatPasswd !== passwd) {\n      newErrors.repeatPasswdError = \"passwords don't match\";\n    }\n    setErrors({...newErrors});\n    if (Object.keys(newErrors).length) {\n      return false;\n    }\n    return true;\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (formIsValid()) {\n      dispatch(sendReq('/accounts/register/', form));\n    }\n  }\n\n  useEffect(() => {\n    if (alert) {\n      setOpen(true);\n    }\n  }, [alert]);\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  }\n\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(deleteObject('alert'));\n  };\n\n  return (\n    <Grid container spacing={1} justify=\"center\">\n      <Grid item xs={12} sm={10} md={8} lg={5}>\n        <Card className={classes.card}>\n          <Snackbar  open={ open } autoHideDuration={6000} transitionDuration={1000} message={ alert } onClose={ handleClose } />\n          <form onSubmit={handleSubmit}>\n            <Typography className={classes.formTitle} variant=\"h2\" align=\"center\" >\n              Sign Up !\n            </Typography>\n              <Grid container id=\"infosInput\" justify=\"center\" alignItems=\"center\" direction=\"column\" >\n                <Grid item id=\"genderChoice\">\n                  <Typography variant=\"h5\">I am...</Typography>\n                  <RadioGroup aria-label=\"gender\" name=\"gender\" value={gender} onChange={handleChange}>\n                    <FormControlLabel value=\"F\" control={<Radio />} label=\"a woman\" />\n                    <FormControlLabel value=\"M\" control={<Radio />} label=\"a man\" />\n                </RadioGroup>\n                </Grid>\n                <Typography variant=\"caption\" color=\"error\">{ errors.genderError }</Typography>\n                <TextField name=\"login\" value={login} label=\"Login\" type=\"text\" variant=\"outlined\" margin=\"normal\"\n                  error={Boolean(errors.loginError)} helperText={errors.loginError} required={true}\n                  onChange={handleChange} /> \n                <TextField name=\"firstname\" value={firstname} label=\"First name\" type=\"text\" variant=\"outlined\" margin=\"normal\" \n                  error={Boolean(errors.firstnameError)} helperText={errors.firstnameError} required={true}\n                  onChange={handleChange} />\n                <TextField name=\"name\" value={name} label=\"Last name\" type=\"text\" variant=\"outlined\" margin=\"normal\" \n                  error={Boolean(errors.nameError)} helperText={errors.nameError} required={true}\n                  onChange={handleChange} />\n                <TextField name=\"mail\" value={mail} label=\"Email\" variant=\"outlined\" margin=\"normal\"\n                  error={Boolean(errors.mailError)} helperText={errors.mailError} required={true}\n                  onChange={handleChange} />\n                <TextField name=\"passwd\" value={passwd} label=\"Password\" type=\"password\" variant=\"outlined\" margin=\"normal\"\n                  error={Boolean(errors.passwdError)} helperText={errors.passwdError} required={true}\n                  onChange={handleChange} />\n                <TextField name=\"repeatPasswd\" value={repeatPasswd} label=\"Password confimation\" type=\"password\" variant=\"outlined\" margin=\"normal\"\n                error={Boolean(errors.repeatPasswdError)} helperText={errors.repeatPasswdError} required={true}\n                  onChange={handleChange} />\n                <TextField name=\"dateBirth\" value={dateBirth} label=\"Birthdate\" type=\"date\" margin=\"normal\" InputLabelProps={{shrink: true,}} required={true}\n                  onChange={handleChange} />\n                <IconButton name=\"submit\" type=\"submit\">\n                  <ChevronRightSharpIcon color=\"secondary\" />\n                </IconButton>\n              </Grid>\n          </form>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default SignUpForm;","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Card, makeStyles, Grid, TextField, Button, Typography, Link, Dialog, DialogActions, DialogTitle, DialogContent, DialogContentText } from '@material-ui/core';\nimport { sendReq } from '../redux/requests';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles(theme => ({\n  submitButton: {\n    marginTop: theme.spacing(2),\n  },\n  link: {\n    marginTop: theme.spacing(5),\n  }\n}));\n\nconst LogInForm = () => {\n  const history = useHistory();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const isLoggedIn = useSelector(state => state.objects.auth);\n\n  const [form, setForm] = useState({\n    mail: '',\n    passwd: '',\n  })\n  const { mail, passwd } = form;\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(sendReq('/accounts/login/', form));\n  }\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      history.push('/');\n    }\n  }, [isLoggedIn])\n\n  const handleClick = (e, action) => {\n    if (action === 'sendNewPasswd') {\n      dispatch(sendReq('/accounts/forgotPasswd', { mail: form.mail }));\n      setOpen(false);\n    } else\n      setOpen(true);\n  }\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={12} sm={10} md={8} lg={5}>\n          <Card className={classes.card}>\n            <form onSubmit={handleSubmit}>\n            <Typography variant=\"h2\" align=\"center\">\n              Log In !\n            </Typography>\n              <Grid container id=\"infosInput\" justify=\"center\" alignItems=\"center\" direction=\"column\" >\n                <TextField name=\"mail\" value={mail} label=\"Mail\" type=\"text\" variant=\"outlined\" margin=\"normal\" required={true}\n                  onChange={handleChange} />\n                <TextField name=\"passwd\" value={passwd} label=\"Password\" type=\"password\" variant=\"outlined\" margin=\"normal\" required={true}\n                  onChange={handleChange} />\n                <Button className={classes.submitButton} name=\"submit\" type=\"submit\" color=\"secondary\" variant=\"outlined\">Submit</Button>\n                <Link onClick={handleClick} color=\"secondary\" className={classes.link}>I forgot my password !</Link>\n              </Grid>\n              <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Reset password</DialogTitle>\n        <DialogContent>\n          <DialogContentText>To receive a new password enter your email addresse and check your mail box.</DialogContentText>\n          <TextField autoFocus margin=\"dense\" name=\"mail\" label=\"Email\" type=\"email\" value={mail} fullWidth\n          onChange={handleChange} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={e => handleClick(e, 'sendNewPasswd')} color=\"secondary\">\n            Send\n          </Button>\n        </DialogActions>\n      </Dialog>\n            </form>\n          </Card>\n        </Grid>\n      </Grid>\n  );\n}\n\nexport default LogInForm;","import React, { useState, useEffect } from 'react';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\nimport { Card, makeStyles, Grid, Typography, Box, Button, IconButton } from '@material-ui/core';\nimport AddCircleRoundedIcon from '@material-ui/icons/AddCircleRounded';\nimport CancelRoundedIcon from '@material-ui/icons/CancelRounded';\nimport { useDispatch } from 'react-redux';\nimport { profilePictureUpload, pictureUpload, deletePicture } from '../redux/requests';\nimport { setObject } from '../redux/objects/actions';\n\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  formTitle: {\n    marginBottom: theme.spacing(4),\n  },\n  profilePicture: {\n    borderRadius: '100%',\n  },\n  flexItem: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column'\n  }\n}));\n\nconst defaultProps = {\n  m: 1,\n  style: { width: '25vw', height: '25vw', maxWidth: '20em', maxHeight: '20em' },\n  overflow: 'hidden',\n};\n\nconst PictureUpload = (props) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const ppIcon = \"https://devshift.biz/wp-content/uploads/2017/04/profile-icon-png-898.png\";\n\n  const [profilePicture, setProfilePicture] = useState({\n    preview: props.profilePicture ? props.profilePicture : ppIcon,\n  })\n  const [pictures, setPictures] = useState(props.pictures ? props.pictures : []);\n  const [imgCounter, setImgCounter] = useState(pictures.length);\n  const [isDisabled, setIsDisabled] = useState(false);\n  const [PPMissing, setPPMissing] = useState(\"\");\n\n  useEffect(() => {\n    if (imgCounter >= 4) {\n      setIsDisabled(true);\n    } else {\n      setIsDisabled(false);\n    }\n  }, [imgCounter]);\n\n  useEffect(() => {\n    setPictures(props.pictures ? props.pictures : []);\n  }, [props.pictures]);\n\n  useEffect(() => {\n    setImgCounter(pictures.length);\n  }, [pictures])\n\n  useEffect(() => {\n    setProfilePicture(props.profilePicture ? props.profilePicture : ppIcon);\n  }, [props.profilePicture]);\n\n  const handleSubmit = () => {\n    if (profilePicture === ppIcon) {\n      setPPMissing(\"Profile Picture is missing !\");\n      return false;\n    }\n    dispatch(setObject('profileStep', 'description'));\n  }\n\n  const handleChange = (e, prevProfilePicture) => {\n    if (e && e.target.id === 'profileButton' && e.target.files[0]) {\n      if (PPMissing) {\n        setPPMissing('');\n      }\n      const formData = new FormData();\n      formData.append(\"file\", e.target.files[0], e.target.files[0].name);\n      dispatch(profilePictureUpload(formData));\n      if (prevProfilePicture && prevProfilePicture !== ppIcon)\n        dispatch(deletePicture({url_picture: prevProfilePicture}, 'profilePicture'));\n    } else if (e && e.target.files[0]) {\n      const formData = new FormData();\n      formData.append(\"file\", e.target.files[0], e.target.files[0].name);\n      dispatch(pictureUpload(formData));\n    }\n  }\n\n  const handleRemove = (src) => {\n      dispatch(deletePicture({url_picture: src}, 'pictures'));\n  }\n\n  const PictureBoxes = () => {\n    const items = [];\n    for (let [key, value] of Object.entries(pictures)) {\n      if (value) {\n        items.push(\n          <Grid key={ `${key}` }  item xs={6} className={classes.flexItem} >\n          <Box {...defaultProps}>\n            <img alt={ `${key}` } src={`${value}`} width=\"100%\" />\n          </Box>\n            <IconButton onClick={ () => handleRemove(value) }>\n              <CancelRoundedIcon fontSize='large' color='secondary' />\n            </IconButton>\n        </Grid>\n        );\n      }\n    }\n    return (\n      <>\n        {items}\n      </>\n    );\n  }\n\n  return (\n    <Grid container spacing={1} justify=\"center\">\n       <Grid item xs={12} >\n        <Card id=\"ImageUploadCard\">\n          <Grid container justify=\"center\" alignContent=\"center\" alignItems=\"center\">\n            <Grid item xs={12} className={classes.flexItem} >\n              <Box {...defaultProps} borderRadius=\"50%\">\n                <img id=\"profilePicture\" src={profilePicture} alt=\"profile\" width=\"100%\" />\n              </Box>\n              <input accept=\"image/*\" className={classes.input} id=\"profileButton\" type=\"file\" \n                style={{ display: 'none' }} onChange={e => handleChange(e, profilePicture)} />\n              <label htmlFor=\"profileButton\">\n                <IconButton component=\"span\" >\n                  <AddCircleRoundedIcon fontSize='large'/>\n                </IconButton>\n              </label>\n              <Typography  color=\"secondary\">{PPMissing}</Typography>\n            </Grid>\n            <PictureBoxes />\n            <Grid item className={classes.flexItem} xs={12}>\n              <input accept=\"image/*\" className={classes.input} type=\"file\" id=\"uploadButton\"\n                style={{ display: 'none' }} onChange={(e) => handleChange(e)} disabled={isDisabled}/>\n              <label htmlFor=\"uploadButton\" style={{ justifySelf: \"flex-end\" }} >\n                <Button component=\"span\" disabled={isDisabled} variant=\"contained\" color=\"secondary\" >\n                  Add pictures {imgCounter} / 4\n                </Button>\n              </label>\n            </Grid>\n            <Grid item xs={12} className={classes.flexItem}>\n              <IconButton name=\"submit\" onClick={() => handleSubmit()}>\n                <ChevronRightSharpIcon color=\"secondary\" />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default PictureUpload;","import React, { useState, useEffect } from 'react';\nimport { Card, makeStyles, Grid, Typography, IconButton, TextField, useTheme } from '@material-ui/core';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\nimport { useDispatch } from 'react-redux';\nimport { updateProfile } from '../redux/requests';\nimport { setObject } from '../redux/objects/actions';\n\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  formTitle: {\n    marginBottom: theme.spacing(4),\n  },\n  flexItem: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  submitButton: {\n    margin: theme.spacing(1),\n  }\n}));\n\nconst DescriptionUpload = (props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n  const [form, setForm] = useState({\n    description: props.description ? props.description : '',\n  });\n  const [charCount, setCharCount] = useState(form.description ? form.description.length : 0);\n\n  useEffect(() => {\n    setForm({\n    description: props.description ? props.description : '',\n    })\n  }, [props.description]);\n\n  const handleChange = (e) => {\n    const { length } = e.target.value;\n\n    if (length <= 150) {\n      setForm({ ...form, [e.target.name]: e.target.value });\n      setCharCount(e.target.value.length);\n    }\n  }\n\n\n  const handleSubmit = () => {\n    dispatch(updateProfile('/accounts/description/', form));\n    dispatch(setObject('profileStep', 'hashtags'));\n  }\n\n  return (\n    <Grid container spacing={1} justify=\"center\">\n    <Grid item xs={12} >\n      <Card id=\"ImageUploadCard\">\n        <Typography className={classes.formTitle} variant=\"h2\" align=\"center\" >\n            Describe yourself :\n        </Typography>\n        <Grid container>\n          <TextField type=\"text\" name=\"description\" variant=\"outlined\" fullWidth={true} multiline={true} rows='5' \n            onChange={handleChange} value={form.description}\n          />\n          <Grid item xs={12}>\n            <Typography align=\"right\" style={{ color: theme.palette.primary.light }}>{charCount}/150</Typography>\n          </Grid>\n          <Grid item xs={12} className={classes.flexItem}>\n            <IconButton name=\"submit\" className={classes.submitButton} onClick={handleSubmit}>\n              <ChevronRightSharpIcon color=\"secondary\" />\n            </IconButton>\n          </Grid>\n        </Grid>\n      </Card>\n    </Grid>\n  </Grid>\n  );\n}\n\nexport default DescriptionUpload;","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setObject } from '../redux/objects/actions';\nimport { hashtags } from '../redux/requests';\nimport { Card, makeStyles, Grid, Typography, IconButton, TextField, Chip, Button} from '@material-ui/core';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  formTitle: {\n    marginBottom: theme.spacing(4),\n  },\n  submitButton: {\n    margin: theme.spacing(1),\n  },\n  hashtagsCards: {\n    maxLength: '500px',\n  },\n  addButton: {\n    margin: theme.spacing(1),\n  }\n}));\n\nconst HashtagsUpload = (props) => {\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [usrHashtags, setUsrHashtags] = useState({\n    hashtags: props.usrHashtags ? props.usrHashtags : [],\n  });\n  const [listHashtags, setListHashtags] = useState([\"catperson\", \"coffee\", \"travel\", \"vegan\", \"netflixandchill\", \"lol\", \"book\", \"gymrat\", \"dance\", \"lover\", \"geek\", \"42\", \"outdoors\", \"no-gym\", \"dogperson\"]);\n\n  const [hashtagInput, setHashtagInput] = useState('');\n\n  useEffect(() => {\n    setUsrHashtags({\n    hashtags: props.usrHashtags ? props.usrHashtags : [],\n    })\n  }, [props.usrHashtags]);\n\n  useEffect(() => {\n    var index;\n    let tmpArray = [...listHashtags];\n    tmpArray.map(hashtag => {\n      if ((index = usrHashtags.hashtags.indexOf(hashtag)) > -1) {\n        index = tmpArray.indexOf(hashtag);\n        tmpArray.splice(index, 1);\n      }\n      return true;\n    })\n    setListHashtags(tmpArray);\n  }, [usrHashtags.hashtags])\n\n  const handleAddNew = () => {\n    if (usrHashtags.hashtags.indexOf(hashtagInput, 1) === parseInt(-1) && hashtagInput) {\n      handleAdd(hashtagInput);\n    }\n    setHashtagInput('');\n  }\n\n  const handleAdd = (hashtag) => {\n    var index;\n    let tmpArray = [...listHashtags];\n    if ((index = tmpArray.indexOf(hashtag)) > -1) {\n      tmpArray.splice(index, 1);\n      setListHashtags(tmpArray);\n    }\n    tmpArray = usrHashtags.hashtags;\n    tmpArray.push(hashtag);\n    setUsrHashtags({ ...usrHashtags, [hashtags]: tmpArray });\n    dispatch(hashtags(usrHashtags));\n}\n\n  const handleInputChange = (e) => {\n    const { length } = e.target.value;\n    if (length <= 15) {\n      setHashtagInput(e.target.value);\n    }\n  }\n\n  const UsrHashtagDisplay = () => {\n\n    const handleDelete = (hashtag) => {\n      var index;\n      let tmpArray = usrHashtags.hashtags;\n      if ((index = tmpArray.indexOf(hashtag)) > -1) {\n        tmpArray.splice(index, 1);\n        setUsrHashtags({ ...usrHashtags, [hashtags]: tmpArray });\n        dispatch(hashtags(usrHashtags));\n      }\n    }\n    return (\n      usrHashtags.hashtags.map((hashtag, key) =>\n        <Grid item key={key}>\n          <Chip id={hashtag} color=\"secondary\" style={{ color: 'white'}}\n          onDelete={() => handleDelete(hashtag)}\n          label={\n            <p>#{hashtag}</p>\n          }>\n          </Chip>\n        </Grid>\n      )\n    );\n  }\n\n  const ListHashtagsDisplay = () => {\n\n    return (\n      listHashtags.map((hashtag, key) =>\n        <Grid item key={key}>\n          <Chip clickable={true} onClick={() => handleAdd(hashtag)}\n          label={\n            <p>#{hashtag}</p>\n          }>\n          </Chip>\n        </Grid>      \n      )\n    );\n  }\n\n  const handleSubmit = () => {\n    if (props.createProfile) {\n      dispatch(setObject('profileStep', 'orientationAndpreferences'));\n    }\n  }\n\n  return (\n    <Grid container spacing={1} justify=\"center\">\n    <Grid item xs={12} >\n      <Card id=\"ImageUploadCard\" >\n          <Typography className={classes.formTitle} variant=\"h2\" align=\"center\" >\n            #matcha\n          </Typography>\n        <Grid container spacing={1} align=\"center\">\n          <Grid item xs={12} md={8}>\n            <Card variant=\"outlined\" className={classes.hashtagsCards} >\n              <Grid container spacing={1}>\n                <UsrHashtagDisplay />\n              </Grid>\n            </Card>\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <Card variant=\"outlined\" className={classes.hashtagsCards} >\n            <Grid container spacing={2} justify=\"flex-end\" >\n              <TextField variant=\"outlined\" type=\"text\" fullWidth={true} margin=\"dense\" value={hashtagInput}\n                InputProps={{startAdornment: <p>#</p>}} onChange={handleInputChange} />\n              <Button name='submitHashtag' variant=\"contained\" color=\"secondary\" size=\"small\" className={classes.addButton} onClick={handleAddNew}>ADD</Button>\n                <Grid container spacing={1}>\n                  <ListHashtagsDisplay />\n                </Grid>\n            </Grid>\n            </Card>\n          </Grid>\n          { props.createProfile ? \n          <Grid item xs={12} className={classes.flexItem}>\n            <IconButton name=\"submit\" className={classes.submitButton} onClick={handleSubmit} >\n              <ChevronRightSharpIcon color=\"secondary\" />\n            </IconButton>\n          </Grid>\n          :\n          <></>\n          }\n        </Grid>\n      </Card>\n    </Grid>\n  </Grid>\n  );\n};\n\nexport default HashtagsUpload;","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateProfile } from '../redux/requests';\nimport { Card, makeStyles, Grid, Typography, FormControlLabel, RadioGroup, Radio} from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  formTitle: {\n    marginBottom: theme.spacing(4),\n  },\n  submitButton: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst OrientationUpload = (props) => {\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [isMounted, setIsMounted] = useState(false)\n\n  const [form, setForm] = useState({\n    research_gender: props.research_gender ? props.research_gender : 'A',\n    orientation: \"bi\"\n  });\n\n  useEffect(() => {\n    if (props.research_gender === props.gender) {\n      setForm({ ...form, 'orientation': \"gay\" });\n    } else if (props.research_gender !== props.gender && props.research_gender !== \"A\") {\n      setForm({ ...form, 'orientation': \"hetero\" });\n    } else {\n      setForm({ ...form, 'orientation': \"bi\"});\n    }\n    setIsMounted(true);\n  }, [])\n\n  useEffect(() => {\n    if (isMounted || !props.research_gender) {\n      dispatch(updateProfile('/accounts/research/gender/', { 'research_gender': form.research_gender }));\n    }\n  }, [form.research_gender])\n\n  const handleChange = (e) => {\n    if (e.target.value) {\n      if (e.target.value === \"hetero\") {\n        setForm({ ...form, 'research_gender': props.gender === \"F\" ? \"M\" : \"F\", 'orientation': e.target.value });\n      } else if (e.target.value === \"gay\") {\n        setForm({ ...form, 'research_gender': props.gender, 'orientation': e.target.value });\n      } else if (e.target.value === \"bi\") {\n        setForm({ ...form, 'research_gender': 'A', 'orientation': e.target.value});\n      }\n    }\n  }\n\n  return (\n    <Grid container spacing={1} justify=\"center\">\n      <Grid item xs={12} >\n        <Card id=\"Orientetion\">\n          <Typography className={ classes.formTitle } variant=\"h4\">\n            I am...\n          </Typography>\n          <Grid container align=\"center\">\n              <RadioGroup aria-label=\"orientation\" name=\"orientation\" value={ form.orientation } onChange={handleChange}>\n                <Grid item xs={12} md={4}>\n                  <FormControlLabel value=\"hetero\" control={<Radio />} label=\"hetero\" />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <FormControlLabel value=\"gay\" control={<Radio />} label=\"gay\" />\n                </Grid>\n                <Grid item xs={12} md={4}>\n                  <FormControlLabel value=\"bi\" control={<Radio />} label=\"bi\" />\n                </Grid>\n              </RadioGroup>\n          </Grid>\n        </Card>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default OrientationUpload;","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Grid, Card, Typography, makeStyles, Slider, Input } from '@material-ui/core';\nimport { updateProfile } from '../redux/requests';\n\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  formTitle: {\n    marginBottom: theme.spacing(4),\n  },\n  flexItem: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n}));\n\n\nconst SlidersOptions = (props) => {\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [isMounted, setIsMounted] = useState(false)\n\n\n  const [form, setForm] = useState({\n    research_perimeter: props.research_perimeter ? props.research_perimeter : 0,\n    ageRange: [props.research_ageMin ? props.research_ageMin : 18, props.research_ageMax ? props.research_ageMax : 25 ]\n  });\n\n  useEffect(() => {\n    setIsMounted(true)\n  }, [])\n\n  const handleDistanceChange = (e, newValue) => {\n    setForm({ ...form, 'research_perimeter': newValue });\n  }\n  const handleInputDistanceChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value === '' ? '' : Number(e.target.value)});\n  }\n\n  const handleDistanceBlur = () => {\n    if (form.research_perimeter < 0) {\n      setForm({ ...form, 'research_perimeter': 0 });\n    } else if (form.research_perimeter > 250) {\n      setForm({ ...form, 'research_perimeter': 250 });\n    }\n  };\n\n  const handleAgeChange = async (e, newValue) => {\n    await setForm({ ...form, 'ageRange': newValue });\n  }\n\n  useEffect(() => {\n    if (isMounted || !props.research_perimeter) {\n      const timer = setTimeout(() => {\n        dispatch(updateProfile('/accounts/research/perimeter/', form));\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [form.research_perimeter]);\n\n  useEffect(() => {\n    if (isMounted || !props.research_ageMax || !props.research_ageMin) {\n      const timer = setTimeout(() => {\n        dispatch(updateProfile('/accounts/research/agemin/', {'research_ageMin': form.ageRange[0]}));\n        dispatch(updateProfile('/accounts/research/agemax/', {'research_ageMax': form.ageRange[1]}));\n      }, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [form.ageRange]);\n \n  return (\n    <Grid container spacing={1} justify=\"center\" >\n      <Grid item xs={12} >\n        <Card id=\"slidersOptionsCard\">\n          <Typography className={classes.formTitle} variant=\"h4\">\n            I am looking for someone,\n          </Typography>\n          <Grid container align=\"flex-start\">\n            <Grid item xs={12}>\n              <Typography variant=\"h5\">around...</Typography>\n              <Grid container spacing={2} direction=\"row\">\n                <Grid item xs={8}>\n                  <Slider value={typeof form.research_perimeter === 'number' ? form.research_perimeter : 0} onChange={handleDistanceChange} \n                  color=\"secondary\" max={250} aria-labelledby=\"distance-slider\" />\n                </Grid>\n                <Grid item xs={4}>\n                  <Input name='research_perimeter' className={classes.input} value={form.research_perimeter} margin=\"dense\"\n                  onBlur={handleDistanceBlur} onChange={handleInputDistanceChange}\n                    inputProps={{ step: 10, min: 0, max: 250, type: 'number', 'aria-labelledby': 'input-slider', }} />\n                  <Typography variant=\"body1\">Km</Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"h5\">between...</Typography>\n              <Grid container spacing={2}>\n                <Grid item xs={8}>\n                  <Slider value={form.ageRange} onChange={handleAgeChange} valueLabelDisplay=\"auto\" \n                  color=\"secondary\" min={18} max={99} aria-labelledby=\"age-range-slider\" />\n                </Grid>\n                <Grid item xs={4}>\n                  <Typography variant=\"body1\">{form.ageRange[0]} to {form.ageRange[1]} years old</Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default SlidersOptions;","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { deleteAccount } from '../redux/requests';\nimport { Card, Button, Snackbar } from '@material-ui/core';\nimport Alert from '@material-ui/lab/Alert';\n\nconst DeleteAccount = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [open, setOpen] = useState(false);\n\n  const handleDelete = () => {\n    dispatch(deleteAccount());\n    history.push('/');\n  }\n\n  return (\n    <Card>\n      <Button color=\"secondary\" fullWidth onClick={() => setOpen(true)}>DELETE</Button>\n      <Snackbar open={open}>\n        <Alert color=\"error\" action={\n          <>\n          <Button color=\"inherit\" size=\"small\" onClick={() => setOpen(false)}>CANCEL</Button>\n          <Button color=\"inherit\" size=\"small\" onClick={handleDelete}>DELETE</Button>\n          </>\n          }\n        >\n          Are you sure you want to delete your account ? \n        </Alert>\n      </Snackbar>\n    </Card>\n  );\n}\n\nexport default DeleteAccount;","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Card, TextField, Grid, Typography, IconButton } from '@material-ui/core';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\nimport { updateProfile } from '../redux/requests';\n\n\nconst EmailUpdate = () => {\n\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({\n    mail: '',\n  });\n  const [error, setError] = useState('');\n\n  const formIsValid = () => {\n    setError('');\n    if (!form.mail.length || !(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.mail))) {\n      setError('email is not valid');\n  }\n  if (error.length) {\n    return false;\n  }\n  return true;\n}\n\nconst handleSubmit = e => {\n  e.preventDefault();\n\n  if (formIsValid()) {\n    dispatch(updateProfile('/accounts/mail/', form));\n    setForm({mail: ''});\n  }\n}\n\nconst handleChange = e => {\n  setForm({ ...form, [e.target.name]: e.target.value });\n}\n\n  return (\n    <Grid item component={Card} xs={12}>\n        <form onSubmit={handleSubmit}>\n      <Grid container spacing={6} direction=\"column\">\n        <Grid item>\n          <Typography variant=\"h4\">Update my email</Typography>\n        </Grid>\n        <Grid item>\n            <TextField name=\"mail\" value={form.mail} label=\"New email\" variant=\"outlined\" margin=\"normal\"\n              error={Boolean(error)} helperText={error} required={true}\n              onChange={handleChange} fullWidth />\n        </Grid>\n        <Grid item align=\"center\">\n          <IconButton name=\"submit\" type=\"submit\">\n            <ChevronRightSharpIcon color=\"secondary\" />\n          </IconButton>\n        </Grid>\n      </Grid>\n      </form>\n    </Grid>\n  );\n}\n\nexport default EmailUpdate;","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Card, Grid, Typography, TextField, IconButton } from '@material-ui/core';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\nimport { updateProfile } from '../redux/requests';\n\nconst LoginUpdate = () => {\n\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({\n    login: ''\n  })\n  const [error, seterror] = useState('');\n\n  const formIsValid = () => {\n    seterror('');\n    if (!form.login || form.login.length < 2 || form.login.length > 15) {\n      seterror('2 to 15 characters');\n    }\n    if (error.length) {\n      return false;\n    }\n    return true;\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (formIsValid()) {\n      dispatch(updateProfile('/accounts/userLogin/', form));\n      setForm({login: ''});\n    }\n  }\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  }\n\n  return (\n    <Grid item component={Card} xs={12}>\n    <form onSubmit={handleSubmit}>\n      <Grid container spacing={6} direction=\"column\">\n        <Grid item>\n          <Typography variant=\"h4\">Update my login</Typography>\n        </Grid>\n        <Grid item>\n            <TextField name=\"login\" value={form.login} label=\"New login\" variant=\"outlined\" margin=\"normal\"\n              error={Boolean(error)} helperText={error} required={true}\n              onChange={handleChange} fullWidth />\n        </Grid>\n        <Grid item align=\"center\">\n          <IconButton name=\"submit\" type=\"submit\" >\n            <ChevronRightSharpIcon color=\"secondary\" />\n          </IconButton>\n        </Grid>\n      </Grid>\n    </form>\n    </Grid>\n  );\n}\n\nexport default LoginUpdate;","import React from 'react';\nimport { Card, Avatar, Grid, Typography, CardActions, IconButton, Tooltip } from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\nimport { usrInteraction } from '../redux/requests';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport BlockOutlinedIcon from '@material-ui/icons/BlockOutlined';\nimport ReportOutlinedIcon from '@material-ui/icons/ReportOutlined';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport FavoriteTwoToneIcon from '@material-ui/icons/FavoriteTwoTone';\n\nconst useStyles = makeStyles(theme =>({\n  grow: {\n    flexGrow: 1\n  },\n  avatar: {\n    transform: \"scale(3)\",\n    margin: theme.spacing(4)\n  },\n  icons: {\n    transform: \"scale(1.3)\"\n  }\n}));\n\nconst MatchListBox = (props) => {\n\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleClick = (e, action) => {\n    switch (action) {\n      case 'block':\n        dispatch(usrInteraction('/accounts/block', {to_id: props.match.id}));\n        window.location.reload();\n        break ;\n      case 'report':\n        dispatch(usrInteraction('/accounts/report', {to_id: props.match.id, message: 'report'}));\n        break ;\n      case 'visitProfile':\n        history.push('/matchProfile/' + props.match.id, {userInfos: props.match, usrId: props.match.id, currentUserId: props.currentUserId});\n        break ;\n      case 'dislike':\n        dispatch(usrInteraction('/unmatch', {to_id: props.match.id}));\n        window.location.reload();\n        break ;\n      case 'chat':\n        history.push('/chat/' + props.match.id + '/' + props.currentUserId);\n        break ;\n      default:\n        break ;\n    }\n  }\n\n  return (\n    <Card>\n    <Grid container>\n    <div className={ classes.grow } />\n    <Tooltip title=\"block\" arrow>\n      <IconButton onClick={e => handleClick(e, 'block')}>\n        <BlockOutlinedIcon />\n      </IconButton>\n    </Tooltip>\n    <Tooltip title=\"report\" arrow>\n      <IconButton onClick={e => handleClick(e, 'report')}>\n        <ReportOutlinedIcon />\n      </IconButton>\n    </Tooltip>\n    </Grid>\n      <Grid container spacing={1} align=\"center\">\n        <Grid item xs={12}>\n          <Avatar  alt={props.match.firstname} src={props.match.profilePicture} className={classes.avatar} onClick={e => handleClick(e, 'visitProfile')} />\n        </Grid>\n        <Grid container justify=\"center\">\n          <Typography variant=\"h4\">{props.match.login}</Typography>\n          {props.match.online ?\n          <FiberManualRecordIcon fontSize=\"small\"  style={{color: \"#8bc34a\"}}/>\n          :\n          <Typography variant=\"body2\" style={{color: \"#757575\"}}>last connection {props.match.lastConnection}</Typography>\n          }\n        </Grid>\n      </Grid>\n      <CardActions>\n    <Tooltip title=\"unmatch\" arrow>\n      <IconButton onClick={e => handleClick(e, 'dislike')}>\n        <FavoriteTwoToneIcon className={classes.icons} color=\"secondary\" />\n      </IconButton>\n    </Tooltip>\n      <div className={classes.grow} />\n        <IconButton onClick={e => handleClick(e, 'chat')}>\n          <ChatIcon className={classes.icons} color=\"secondary\"/>\n        </IconButton>\n      </CardActions>\n    </Card>\n  );\n}\n\nexport default MatchListBox;","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { updateProfile } from '../redux/requests';\nimport { Card, Grid, Typography, TextField, IconButton } from \"@material-ui/core\";\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\n\n\nconst PasswdUpdate = () => {\n\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({\n    passwd: '',\n    repeatPasswd: '',\n  });\n\n  const [errors, setErrors] = useState({\n    passwdError: null,\n    repeatPasswdError: null\n  });\n\n  const formIsValid = () => {\n    const newErrors = {};\n    if (form.passwd.length < 5 || !(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/).test(form.passwd)) {\n      newErrors.passwdError = 'min 5 char, 1 Upcase, 1 number'\n    }\n    if (!form.repeatPasswd || form.repeatPasswd !== form.passwd) {\n      newErrors.repeatPasswdError = \"passwords don't match\";\n    }\n    setErrors({...newErrors});\n    if (Object.keys(newErrors).length) {\n      return false;\n    }\n    return true;\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (formIsValid()) {\n      dispatch(updateProfile('/accounts/passwd/', form));\n      setForm({ passwd: '', repeatPasswd: ''});\n    }\n  }\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  }\n\n  return (\n    <Grid item component={Card} xs={12}>\n      <Grid container spacing={1} direction=\"column\">\n        <Typography variant=\"h4\">Update my password</Typography>\n        <form onSubmit={handleSubmit}>\n        <Grid item >\n          <TextField name=\"passwd\" value={form.passwd} label=\"Password\" type=\"password\" variant=\"outlined\" margin=\"normal\"\n              error={Boolean(errors.passwdError)} helperText={errors.passwdError} required={true}\n              onChange={handleChange} fullWidth/>\n        </Grid>\n        <Grid item >\n          <TextField name=\"repeatPasswd\" value={form.repeatPasswd} label=\"Password confimation\" type=\"password\" variant=\"outlined\" margin=\"normal\"\n              error={Boolean(errors.repeatPasswdError)} helperText={errors.repeatPasswdError} required={true}\n              onChange={handleChange} fullWidth/>\n        </Grid>\n        <Grid item align=\"center\">\n          <IconButton name=\"submit\" type=\"submit\" >\n            <ChevronRightSharpIcon color=\"secondary\" />\n          </IconButton>\n        </Grid>\n        </form>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default PasswdUpdate;","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Grid, Card, makeStyles, GridListTile, GridList, Avatar, Typography, IconButton, Chip, CardMedia, CardContent, CardActions, Tooltip } from '@material-ui/core';\nimport FavoriteTwoToneIcon from '@material-ui/icons/FavoriteTwoTone';\nimport ReportIcon from '@material-ui/icons/Report';\nimport { usrInteraction } from '../redux/requests';\nimport { setObject } from '../redux/objects/actions';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport BlockOutlinedIcon from '@material-ui/icons/BlockOutlined';\n\n\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1\n  },\n  halfGrow: {\n    flexGrow: 0.35\n  },\n  iconButton: {\n    transform: \"scale(1.8)\",\n    margin: \"25px\"\n  },\n  likeButton: {\n    marginLeft: 'auto',\n    transform: \"scale(1.8)\",\n    margin: \"25px\"\n  },\n  avatar: {\n    height: \"100px\",\n    width: \"100px\"\n  },\n  hashtagBox: {\n    maxHeight: \"200px\",\n    overflow: \"auto\"\n  },\n  textInfos: {\n    fontSize: 20,\n  },\n  botMarg: {\n    marginBottom: theme.spacing(3)\n  }\n}));\n\nconst ProfileBox = (props) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [datas, setDatas] = useState({\n    lastConnection: new Intl.DateTimeFormat('en-US', {year: 'numeric', month: '2-digit', day: '2-digit'}).format(new Date(props.location.state ? props.location.state.userInfos.lastConnection : null)),\n    location: ''\n  });\n\n\n  useEffect(() => {\n    if (!props.location.state) {\n      history.push('/');\n    }\n  });\n\n  \n  useEffect(() => {\n    const getAddress = (lat, lng) => {\n      fetch(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + lat + \",\" + lng +\"&key=\" + process.env.REACT_APP_GOOGLE_API_KEY)\n      .then(response => {\n        response.json()\n        .then(data => {\n          if (data.results[6]) {\n            setDatas({...datas, 'location': data.results[6].formatted_address});\n          } else {\n            return '';\n          }\n        })\n      })\n      .catch(err => console.log(err));\n    }\n    if (props.location.state)\n      getAddress(props.location.state.userInfos.location.latitude, props.location.state.userInfos.location.longitude);\n  }, [props.location.state, datas])\n\n  const handleLike = () => {\n     dispatch(usrInteraction('/likes', {to_id: props.usrId}, props.index));\n  }\n\n  const handleReport = () => {\n    dispatch(usrInteraction('/accounts/report', {to_id: datas.usrId, message: 'report'}));\n    dispatch(setObject('index', props.index + 1));\n  }\n\n    return (\n      <>\n      {props.location.state ?\n        <Grid container spacing={1} justify=\"center\">\n          <Grid item lg={6} md ={8} sm={10} xs={12} >\n            <Card id=\"swipeBox\" height=\"auto\">\n              <CardMedia>\n                <GridList cellHeight={250} cols={2}>\n                  {props.location.state.userInfos.pictures.map(tile =>(\n                    <GridListTile key={tile} cols={1}>\n                      <img src={tile} alt={tile} />\n                    </GridListTile>\n                  ))}\n                </GridList>\n              </CardMedia>\n              <CardContent>\n                <Grid container spacing={1} >\n                  <Grid item>\n                    <Avatar alt={props.location.state.userInfos.firstname} src={props.location.state.userInfos.profilePicture} className={classes.avatar}/>\n                  </Grid>\n                  <Grid item>\n                    <Grid container >\n                    <Typography variant=\"h4\">{props.location.state.userInfos.login}</Typography>\n                    {props.location.state.userInfos.online ?\n                    <FiberManualRecordIcon fontSize=\"small\"  style={{color: \"#8bc34a\"}}/>\n                    :\n                    <Typography variant=\"body2\" style={{color: \"#757575\"}}>last connection {datas.lastConnection}</Typography>\n                    }\n                    </Grid>\n                    </Grid>\n\n\n                    <Grid container spacing={5} className={classes.botMarg}>\n                    <div className={classes.halfGrow} />\n                      <Grid item>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{props.location.state.userInfos.firstname} - {props.location.state.userInfos.name}</Typography>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{props.location.state.userInfos.age} years old</Typography>\n                      </Grid>\n                      <div className={classes.halfGrow} />\n                      <Grid item>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{datas.location}</Typography>\n                      </Grid>\n                    </Grid>\n                    <Typography variant=\"body1\">{props.location.state.userInfos.description}</Typography>\n                  <div className={classes.grow} />\n                  <Grid item>\n                    <Tooltip title=\"block\" arrow>\n                      <IconButton>\n                        <BlockOutlinedIcon />\n                      </IconButton>\n                    </Tooltip>\n                    <Tooltip title=\"report\" arrow>\n                      <IconButton onClick={handleReport}>\n                        <ReportIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </Grid>\n                </Grid>\n                <Grid container spacing={1} className={classes.hashtagBox}>\n                  {props.location.state.userInfos.hashtags.map((hashtag, key) =>(\n                    <Grid item key={key}>\n                      <Chip color=\"secondary\"\n                        label={ <p>#{hashtag}</p> }>\n                      </Chip>\n                    </Grid>\n                  ))}\n                </Grid>\n              </CardContent>\n              <CardActions>\n                <div className={classes.grow}/>\n                <Tooltip title=\"unmatch\" arrow>\n                  <IconButton aria-label=\"like\" color=\"secondary\" className={classes.likeButton} onClick={handleLike}>\n                    <FavoriteTwoToneIcon />\n                  </IconButton>\n                </Tooltip>\n              </CardActions>\n            </Card>\n          </Grid>\n        </Grid>\n        :\n        null\n        }\n        </>\n    )\n}\n\nexport default ProfileBox;","import React, { useEffect,useState } from 'react';\nimport { useDispatch, } from 'react-redux';\nimport { Grid, Card, makeStyles, GridListTile, GridList, Avatar, Typography, IconButton, Chip, CardMedia, CardContent, CardActions } from '@material-ui/core';\nimport NotInterestedIcon from '@material-ui/icons/NotInterested';\nimport FavoriteTwoToneIcon from '@material-ui/icons/FavoriteTwoTone';\nimport ReportIcon from '@material-ui/icons/Report';\nimport { usrInteraction } from '../redux/requests';\nimport { setObject, removeLiked } from '../redux/objects/actions';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\n\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1\n  },\n  halfGrow: {\n    flexGrow: 0.35\n  },\n  iconButton: {\n    transform: \"scale(1.8)\",\n    margin: \"25px\"\n  },\n  likeButton: {\n    marginLeft: 'auto',\n    transform: \"scale(1.8)\",\n    margin: \"25px\"\n  },\n  avatar: {\n    height: \"100px\",\n    width: \"100px\"\n  },\n  hashtagBox: {\n    maxHeight: \"150px\",\n    overflowY: \"scroll\"\n  },\n  textInfos: {\n    fontSize: 20,\n  },\n  botMarg: {\n    marginBottom: theme.spacing(3)\n  }\n}));\n\nconst SwipeBox = (props) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const KEY = process.env.REACT_APP_GOOGLE_API_KEY;\n  const { userInfos } = props;\n  const [lastConnection, setLastConnection] = useState(userInfos.lastConnection);\n  const [address, setAddress] = useState('');\n  const cibleLocation = props.userInfos.location;\n\n  useEffect(() => {\n    const date = new Date(lastConnection);\n    setLastConnection(new Intl.DateTimeFormat('en-US', {year: 'numeric', month: '2-digit',day: '2-digit' }).format(date));\n    getAddress(cibleLocation.latitude, cibleLocation.longitude);\n  }, []);\n\n  const handleLike = () => {\n     dispatch(usrInteraction('/likes', {to_id: props.usrId, from_id: props.currentUser.id, like_id: '0'}, props.index));\n     dispatch(removeLiked('cibles', props.index ));\n  }\n\n  const handleDislike = () => {\n    dispatch(setObject('index', props.index + 1));\n  }\n\n  const handleReport = () => {\n    dispatch(usrInteraction('/accounts/report', {to_id: props.usrId, message: 'report'}));\n    dispatch(setObject('index', props.index + 1));\n  }\n\n  const getAddress = (lat, lng) => {\n    fetch(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + lat + \",\" + lng +\"&key=\" + KEY)\n    .then(response => {\n      response.json()\n      .then(datas => {\n        if (datas.results[6]) {\n          const address = datas.results[6].formatted_address;\n          setAddress(address);\n        } else {\n          setAddress('');\n        }\n      })\n    })\n    .catch(err => console.log(err));\n  }\n\n    return (\n        <Grid container spacing={1} justify=\"center\">\n          <Grid item lg={6} md ={8} sm={10} xs={12} >\n            <Card id=\"swipeBox\" height=\"auto\">\n              <CardMedia>\n                <GridList cellHeight={250} cols={2}>\n                  {userInfos.pictures.map(tile =>(\n                    <GridListTile key={tile} cols={1}>\n                      <img src={tile} alt={tile} />\n                    </GridListTile>\n                  ))}\n                </GridList>\n              </CardMedia>\n              <CardContent>\n                <Grid container spacing={1} >\n                  <Grid item>\n                    <Avatar alt={userInfos.firstname} src={userInfos.profilePicture} className={classes.avatar}/>\n                  </Grid>\n                  <Grid item>\n                    <Grid container >\n                    <Typography variant=\"h4\">{userInfos.login}</Typography>\n                    {userInfos.online ?\n                    <FiberManualRecordIcon fontSize=\"small\"  style={{color: \"#8bc34a\"}}/>\n                    :\n                    <Typography variant=\"body2\" style={{color: \"#757575\"}}>last connection {lastConnection}</Typography>\n                    }\n                    </Grid>\n                    </Grid>\n\n                    <Grid container spacing={5} className={classes.botMarg}>\n                    <div className={classes.halfGrow} />\n                      <Grid item>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{userInfos.firstname} - {userInfos.name}</Typography>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{userInfos.age} years old</Typography>\n                      </Grid>\n                      <div className={classes.halfGrow} />\n                      <Grid item>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{address}</Typography>\n                        <Typography variant=\"body1\" className={classes.textInfos}>{userInfos.distance} meter away</Typography>\n                      </Grid>\n                    </Grid>\n\n                    <Grid container justify=\"center\">\n                      <Typography variant=\"subtitle2\" >compatibility {parseInt(userInfos.score)}% </Typography>\n                    </Grid>\n                    <Typography variant=\"body1\">{userInfos.description}</Typography>\n                  <div className={classes.grow} />\n                  <Grid item>\n                    <IconButton onClick={handleReport}>\n                      <ReportIcon />\n                    </IconButton>\n                  </Grid>\n                </Grid>\n                <Grid container spacing={1} className={classes.hashtagBox}>\n                  {userInfos.hashtags.map((hashtag, key) =>(\n                    <Grid item key={key}>\n                      <Chip color=\"secondary\"\n                        label={ <p>#{hashtag}</p> }>\n                      </Chip>\n                    </Grid>\n                  ))}\n                </Grid>\n              </CardContent>\n              <CardActions>\n                <IconButton aria-label=\"dislike\" edge=\"start\" className={classes.iconButton} onClick={handleDislike} >\n                  <NotInterestedIcon />\n                </IconButton>\n                <div className={classes.grow}/>\n                <IconButton aria-label=\"like\" color=\"secondary\" className={classes.likeButton} onClick={handleLike}>\n                  <FavoriteTwoToneIcon />\n                </IconButton>\n              </CardActions>\n            </Card>\n          </Grid>\n        </Grid>\n    )\n}\n\nexport default SwipeBox;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Button, AppBar, Toolbar, Typography, makeStyles, IconButton, Badge, Drawer } from '@material-ui/core';\nimport { resetApp } from '../redux/objects/actions';\nimport { disconnect, updateProfile, fetchDatas } from '../redux/requests';\nimport Cookies from 'js-cookie';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport SettingsOutlinedIcon from '@material-ui/icons/SettingsOutlined';\nimport PowerSettingsNewOutlinedIcon from '@material-ui/icons/PowerSettingsNewOutlined';\nimport FavoriteTwoToneIcon from '@material-ui/icons/FavoriteTwoTone';\nimport NotificationsNoneRoundedIcon from '@material-ui/icons/NotificationsNoneRounded';\nimport socketIOClient from 'socket.io-client';\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  link: {\n      textDecoration: 'none',\n  },\n  titleLink: {\n    textDecoration: 'none',\n    color: 'inherit',\n  },\n  newNotif: {\n    margin: 20,\n    padding: 20,\n    backgroundColor: 'rgb(211, 47, 47, 0.2)',\n    borderRadius: 10,\n    border: '1px solid rgb(211, 47, 47)'\n  },\n  oldNotif: {\n    margin: 20,\n    padding: 20,\n    borderRadius: 10,\n    border: '1px solid rgb(211, 47, 47)'\n  }\n}));\n  \nconst NavBar = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [drowerIsOpen, setDrowerIsOpen] = useState(false);\n  const notifications = useSelector(state => state.objects.notifications);\n  const currentUser = useSelector(state => state.objects.currentUser);\n  const [notificationCount, setNotificationCount] = useState(0);\n\n  useEffect(() => {\n    let count = 0;\n    notifications.forEach((notif) => {\n      if (notif.status) {\n        count++;\n      }\n    })\n    setNotificationCount(count);\n  }, [notifications]);\n\n  const notifCount = () => {\n    let count = 0;\n    notifications.forEach((notif) => {\n      if (notif.status) {\n        count++;\n      }\n    })\n    setNotificationCount(count);\n  }\n\n  const logOut = () => {\n    dispatch(disconnect());\n    Cookies.remove('token');\n    dispatch(resetApp());\n    const socket = socketIOClient('http://localhost:8080');\n    socket.close();\n  }\n\n  const handleClick = () => {\n    setDrowerIsOpen(true);\n    dispatch(updateProfile('/notifications/read', {id: currentUser.id}));\n    dispatch(fetchDatas('/notifications'));\n    notifCount();\n  }\n\n  const list = () => {\n    return (\n      notifications.map((notif, key) =>\n      <div key={key}>\n      {notif.status ?\n        <div key={key} className={classes.newNotif}>\n          <Typography variant=\"body1\" key={key}>\n            {notif.message}\n          </Typography>\n        </div>\n        :\n        <div key={key} className={classes.oldNotif}>\n          <Typography variant=\"body1\" key={key}>\n            {notif.message}\n          </Typography>\n        </div>\n        }\n      </div>\n      )\n    )\n  }\n\n    return (\n      <div className={classes.root}>\n          <AppBar position=\"static\" color=\"default\">\n              <Toolbar>\n                <Link to=\"/\" className={classes.titleLink}>\n                  <Typography variant=\"h6\" className={classes.title}>\n                      Matcha !\n                  </Typography>\n                </Link>\n                <div className={classes.grow} />\n                {Cookies.get('token') ?\n                <React.Fragment>\n                  <Link to=\"/match\">\n                    <IconButton aria-label=\"match\">\n                      <FavoriteTwoToneIcon color=\"secondary\" fontSize=\"large\" />\n                    </IconButton>\n                  </Link>\n                  <Link to=\"/profile\">\n                    <IconButton aria-label=\"profile\">\n                      <AccountCircleOutlinedIcon color='primary' fontSize='large' />\n                    </IconButton>\n                  </Link>\n                  <Link to=\"/settings\">\n                    <IconButton aria-label=\"settings\">\n                      <SettingsOutlinedIcon color='primary' fontSize='large' />\n                    </IconButton>\n                  </Link>\n                  <IconButton aria-label=\"notifications\" onClick={handleClick}>\n                    <Badge badgeContent={notificationCount} color=\"secondary\" overlap=\"circle\">\n                      <NotificationsNoneRoundedIcon color='primary' fontSize='large' />\n                    </Badge>\n                  </IconButton>\n                  <Drawer anchor='right' open={drowerIsOpen} onClose={() => setDrowerIsOpen(false)}>\n                    {list()}\n                  </Drawer>\n                  <Link to=\"/\" onClick={() => logOut()}>\n                    <IconButton aria-label=\"LogOut\">\n                      <PowerSettingsNewOutlinedIcon color='secondary' fontSize='large' />\n                    </IconButton>\n                  </Link>\n                </React.Fragment>\n                :\n                <React.Fragment>\n            <Link to=\"/signUp\" className={classes.link}>\n              <Button className={classes.menuButton} color=\"secondary\" variant=\"contained\">Signup</Button>\n            </Link>\n            <Link to=\"/logIn\" className={classes.link}>\n              <Button className={classes.menuButton} variant=\"outlined\">Login</Button>\n            </Link>\n            </React.Fragment>\n            }\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n}\n\nexport default NavBar;","import React, { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng } from 'react-places-autocomplete';\nimport { updateProfile } from '../redux/requests';\nimport { Card, makeStyles, Grid, Typography, TextField } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  margBot: {\n    marginBottom: theme.spacing(2),\n  },\n  submitButton: {\n    margin: theme.spacing(1),\n  }\n}));\n\nconst Location = (props) => {\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [isMounted, setIsMounted] = useState(false)\n\n  const [form, setForm] = useState({\n    latitude: props.latitude ? props.latitude : 0,\n    longitude: props.longitude ? props.longitude : 0\n  });\n  const [currentAddress, setCurrentAddress] = useState('');\n  const [address, setAddress] = useState('');\n\n  useEffect(() => {\n    setIsMounted(true)\n  }, [])\n\n  useEffect(() => {\n    if (form.latitude && form.longitude) {\n      if (isMounted)\n        dispatch(updateProfile('/accounts/locations', form));\n      const getAddress = (lat, lng) => {\n        const KEY = process.env.REACT_APP_GOOGLE_API_KEY;\n        fetch(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + lat + \",\" + lng +\"&key=\" + KEY)\n        .then(response => {\n          response.json()\n          .then(datas => {\n            const address = datas.results[0].formatted_address;\n            setCurrentAddress(address);\n          })\n        })\n        .catch(err => console.log(err));\n      }\n      getAddress(form.latitude, form.longitude);\n    }\n  }, [form.latitude, form.longitude])\n\n\n  const handleChange = value => {\n    setAddress(value);\n  };\n \n  const handleSelect = async value => {\n    const results = await geocodeByAddress(value);\n    const LatLon = await getLatLng(results[0]);\n    setAddress(value);\n    setForm({'latitude': LatLon.lat, 'longitude': LatLon.lng});\n  };\n\n  return (\n    <Grid container spacing={1} justify=\"center\">\n      <Grid item xs={12} >\n        <Card id=\"Location\">\n          <Typography className={ classes.margBot } variant=\"h4\">\n            I live in...\n          </Typography>\n          <Typography variant=\"body1\" className={ classes.margBot }>\n            {currentAddress}\n          </Typography>\n          <Grid container align=\"center\">\n          <PlacesAutocomplete value={address} onChange={handleChange} onSelect={handleSelect} >\n          {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => \n            <div>\n              <TextField {...getInputProps({ placeholder: 'address...'})} />\n              <div style={{overflowY: \"scroll\"}}>\n                {loading ? <div>...loading</div> : null}\n                {suggestions.map((suggestion) => {\n                  const style = {\n                    backgroundColor: suggestion.active ? \"#D32F2F\" : \"#fff\",\n                    color: suggestion.active ? \"white\" : \"black\",\n                    display: 'flex',\n                    maxWidth: \"150px\",\n                  }\n                  return <div {...getSuggestionItemProps(suggestion, {style})}>\n                  {suggestion.description}</div>\n                })}\n              </div>\n            </div>}\n          </PlacesAutocomplete>\n          </Grid>\n        </Card>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default Location;","import React, { Component } from \"react\";\nimport { TextField, Button } from '@material-ui/core';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            messages: [],\n            newMessage: \"\",\n            to_id: props.match.params.to_id,\n            from_id: props.match.params.from_id,\n        }\n\n        this.styles = {\n            channelList: {\n                display: \"flex\",\n                flex: 1,\n                flexDirection: \"column\",\n                maxHeight: \"80%\",\n                width: \"105%\",\n                overflowY: \"scroll\",\n                overflowX: \"hidden\",\n                bottom: 0,\n                position: 'absolute',\n                marginBottom: \"130px\"\n            },\n            container: {\n                height: \"80%\",\n                marginLeft: '20%',\n                marginRight: '20%',\n                position: 'absolute',\n                width: '60%',\n                float: 'left'\n            },\n            input: {\n                width: '80%',\n                float: 'left',\n                position: 'absolute',\n                bottom: 0,\n                marginBottom: '40px',\n            },\n            btn: {\n                backgroundColor: '#ff3c58',\n                color: 'white',\n                bottom: 0,\n                right: 0,\n                width: '15%',\n                marginBottom: '40px',\n                position: 'absolute',\n                height: '60px'\n            },\n            talkbubble: {\n                margin: '10px',\n                display: 'inline-block',\n                position: 'relative',\n                width: '200px',\n                height: 'auto',\n                backgroundColor: \"#e8e8e8\",\n                borderRadius: \"10px\",\n            },\n            talktext: {\n                padding: '1em',\n                textAlign: 'left',\n                lineHeight: '1.5em',\n            },\n            loginmsg: {\n                marginLeft: \"10px\",\n                marginTop: \"10px\",\n                fontWeight: \"bold\"\n            }\n        }\n        this.getMessages()\n    }\n\n    reqMessages = async () => {\n        await axios.get('http://localhost:8080/chats', {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n                \"token\": Cookies.get('token'),\n                \"to_id\": this.state.to_id\n            }\n        }).then(async function (response) {\n            var messages = response.data\n            var tmp = []\n            for (const index in messages) {\n                tmp.push(messages[index])\n            }\n            return tmp\n        }).then((tmp) => {\n            if (tmp.length !== this.state.messages.length){\n                window.location.reload(false);\n            }\n        }).catch(function (error) {\n            console.log(error.response);\n        })\n    }\n\n    getMessages = async () => {\n        const messages = []\n        await axios.get('http://localhost:8080/chats', {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n                \"token\": Cookies.get('token'),\n                \"to_id\": this.state.to_id\n            }\n        }).then(async function (response) {\n            messages.push(response.data)\n        }).catch(function (error) {\n            console.log(error.response);\n        })\n        for (const index in messages[0]) {\n            const copie = this.state.messages.slice()\n            copie.push(messages[0][index])\n            this.setState({ messages: copie })\n        }\n    }\n\n    getStyle = (from) => {\n        if (from == this.state.from_id) {\n            return {\n                margin: '10px',\n                display: 'inline-block',\n                position: 'relative',\n                width: '200px',\n                height: 'auto',\n                backgroundColor: \"rgb(137, 190, 255)\",\n                borderRadius: \"10px\",\n                marginLeft: \"auto\"\n            }\n        }\n        else {\n            return {\n                margin: '10px',\n                display: 'inline-block',\n                position: 'relative',\n                width: '200px',\n                height: 'auto',\n                borderRadius: \"10px\",\n                backgroundColor: \"#e8e8e8\",\n            }\n        }\n    }\n\n    handleChangeInput = (event) => {\n        const value = event.currentTarget.value;\n        this.setState({ newMessage: value });\n    }\n\n    handleSubmit = async () => {\n        this.setState({ newMessage: '' })\n        await axios.post('http://localhost:8080/chats', {\n            from_id: this.state.from_id,\n            to_id: this.state.to_id,\n            message: this.state.newMessage\n        }, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n                \"token\": Cookies.get('token')\n            }\n        }).then(() => {\n            window.location.reload(false);\n            axios.post('http://localhost:8080/notifications/chat', {\n              from_id: this.state.from_id,\n              to_id: this.state.to_id,\n              chat_id: '0'\n            }, {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"GET,PUT,POST,DELETE,PATCH,OPTIONS\",\n                \"token\": Cookies.get('token')\n              }\n            }).then(() => {console.log('notification sent')})\n\n        }).catch(function (error) {\n            console.log(error.response);\n        })\n    }\n\n\n    myInterval = setInterval(this.reqMessages, 2000);\n\n\n    // componentWillUnmount() {\n    //   clearInterval(this.myInterval)\n    // }\n\n\n    render() {\n\n      \n\n\n        return <div style={this.styles.container}>\n            <div style={this.styles.channelList} id=\"box_message\">{this.state.messages.map(el => (\n                <div key={el.id} className=\"talk-bubble\" style={this.getStyle(el.from_id)}>\n                    <div style={this.styles.loginmsg}>{el.login}</div>\n                    <div className=\"talktext\" style={this.styles.talktext} >\n                        <p>{el.message}</p>\n                    </div>\n                </div>\n            ))}</div>\n            <form onSubmit={this.handleSubmit} noValidate autoComplete=\"off\" >\n                <TextField id=\"multiline\" variant=\"filled\" onChange={this.handleChangeInput} value={this.state.newMessage} style={this.styles.input} />\n                <Button variant=\"contained\" type=\"submit\" style={this.styles.btn}>Envoyer</Button>\n            </form>\n        </div>\n    }\n}\n\nexport default App;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Grid, Card, IconButton } from '@material-ui/core';\nimport ChevronRightSharpIcon from '@material-ui/icons/ChevronRightSharp';\nimport { PictureUpload, DescriptionUpload, HashtagsUpload, OrientationUpload, SlidersOptions, Location } from '../components/index';\nimport { setObject } from '../redux/objects/actions';\nimport Cookies from 'js-cookie';\n\n\nconst CreateProfilePage = () => {\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const step = useSelector(state => state.objects.profileStep);\n  const currentUser = useSelector(state => state.objects.currentUser);\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  useEffect(() => {\n    if (!Cookies.get('token'))\n      history.push('/');\n  });\n\n  useEffect(() => {\n    if (currentUser) {\n      setDataLoaded(true);\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    if (dataLoaded && currentUser && currentUser.profilePicture)\n      history.push('/profile');\n  }, [dataLoaded]);\n\n  const handleClick = () => {\n    dispatch(setObject('profileStep', false));\n    history.push('/profile');\n  }\n\n  switch(step) {\n\n    case 'picture': {\n        return (\n          <Grid container spacing={1} justify=\"center\">\n            <Grid item xs={12} sm={10} md={8} lg={6}>\n              {currentUser && <PictureUpload pictures={ currentUser.pictures } profilePicture={ currentUser.profilePicture } />}\n            </Grid>\n          </Grid>\n        );\n      }\n\n    case 'description': {\n      return (\n        <Grid container spacing={1} justify=\"center\">\n          <Grid item xs={12} sm={10} md={8} lg={6}>\n            { currentUser && <DescriptionUpload createProfile='true' description={ currentUser.description } />}\n          </Grid>\n        </Grid>\n      );\n    }\n\n    case 'hashtags': {\n      return (\n        <Grid container spacing={1} justify=\"center\">\n          <Grid item xs={12} sm={10} md={8} lg={6}>\n            {currentUser && <HashtagsUpload createProfile='true' usrHashtags={ currentUser.hashtags } />}\n          </Grid>\n        </Grid>\n      );\n    }\n\n    case 'orientationAndpreferences': {\n      return (\n        <Grid container spacing={1} justify=\"center\">\n          <Grid item xs={12} sm={10} md={8} lg={6}>\n            <Card>\n              {currentUser && <OrientationUpload gender={ currentUser.gender } research_gender={ currentUser.research_gender } />}\n              {currentUser && <Location latitude={ currentUser.latitude } longitude={ currentUser.longitude } />}\n              {currentUser && <SlidersOptions research_perimeter={ currentUser.research_perimeter } research_ageMin={ currentUser.research_age_min }\n                research_ageMax={ currentUser.research_age_max } />}\n              <Grid item align='center'>\n                <IconButton name=\"next\" onClick={ handleClick }>\n                  <ChevronRightSharpIcon color=\"secondary\" />\n                </IconButton>\n              </Grid>\n            </Card>\n          </Grid>\n        </Grid>\n      );\n    }\n\n    default:\n      return (\n        <Grid container spacing={1} justify=\"center\">\n          <Grid item xs={12} sm={10} md={8} lg={6}>\n            {currentUser && <PictureUpload pictures={ currentUser.pictures } />}\n          </Grid>\n        </Grid>\n      );\n  }\n}\n\nexport default CreateProfilePage;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { deleteObject, setObject } from '../redux/objects/actions';\nimport { Snackbar, Typography } from '@material-ui/core';\nimport { SwipeBox } from '../components/index';\nimport Cookies from 'js-cookie';\n\n\nconst HomePage = () => {\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const currentUser = useSelector(state => state.objects.currentUser);\n  const alert = useSelector(state => state.objects.alert);\n  const cibles = useSelector(state => state.objects.cibles);\n  const index = useSelector(state => state.objects.index);\n  const [open, setOpen] = useState(false);\n\n\n  useEffect(() => {\n    if (alert) {\n      setOpen(true);\n    }\n  }, [alert]);\n\n  useEffect(() => {\n    if (!Cookies.get('token')) {\n      history.push('/');\n    } else if (currentUser && !currentUser.profilePicture) {\n      history.push('/create-profile');\n    }\n  }, []);\n\n\n  useEffect(() => {\n    if (cibles && index >= cibles.length)\n      dispatch(setObject('index', 0));\n  }, [index, cibles, dispatch]);\n\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(deleteObject('alert'));\n  };\n  \n  return (\n    <>\n    <Snackbar  open={ open } autoHideDuration={6000} transitionDuration={1000} message={ alert } onClose={ handleClose } />\n    {Cookies.get('token') ?\n    cibles && cibles[index] && currentUser && cibles.length ?\n      <SwipeBox userInfos={cibles[index]} usrId={cibles[index].id} currentUser={currentUser} index={index} />\n      :\n      <Typography variant=\"h4\" align=\"center\">Nobody's around !</Typography>\n      :\n      <img src=\"https://cdn.pixabay.com/photo/2016/10/06/05/19/engagement-1718244_960_720.jpg\" alt=\"background_picture\" width=\"100%\" />\n    }\n    </>\n  );\n\n}\n\nexport default HomePage;","import React, { useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteObject } from '../redux/objects/actions';\nimport { useHistory } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport { LogInForm } from '../components/index';\nimport { Snackbar } from '@material-ui/core';\nimport { confirmEmail } from '../redux/requests';\n\nconst LogInPage = (props) => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const alert = useSelector(state => state.objects.alert);\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (Cookies.get('token')) {\n      history.push('/profile');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (alert) {\n      setOpen(true);\n    }\n  }, [alert]);\n\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(deleteObject('alert'));\n  };\n\n  useEffect (() => {\n    if (props.match.params.token) {\n      dispatch(confirmEmail(props.match.params.token));\n    }\n  })\n\n\n  return (\n    <>\n      <LogInForm />\n      <Snackbar  open={ open } autoHideDuration={5000} transitionDuration={1000} message={ alert } onClose={ handleClose } />\n    </>\n  );\n}\n\nexport default LogInPage;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { deleteObject } from '../redux/objects/actions';\nimport MatchListBox from '../components/MatchListBox';\nimport { Grid, Snackbar, Typography } from '@material-ui/core';\nimport Cookies from 'js-cookie';\n\n\nconst MatchListPage = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const matches = useSelector(state => state.objects.matches);\n  const currentUser = useSelector(state => state.objects.currentUser);\n  const alert = useSelector(state => state.objects.alert);\n  const [open, setOpen] = useState(false);\n\n  \n  useEffect(() => {\n    if (!Cookies.get('token')) {\n      history.push('/');\n    }\n  });\n\n  useEffect(() => {\n    if (alert) {\n      setOpen(true);\n    }\n  }, [alert]);\n\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(deleteObject('alert'));\n  };\n\n  useEffect(() => {\n    if (currentUser && !currentUser.profilePicture) {\n      history.push('/create-profile');\n    }\n  }, [])\n\n  const MapMatches = () => {\n    if (matches.length) {\n      return (\n        matches.map((match, key) =>\n          <Grid item lg={2} md={4} sm={5} xs={11} key={key}>\n            <MatchListBox match={match} currentUserId={currentUser.id} />\n          </Grid>\n        )\n      );\n    } else\n    return null;\n  }\n\n  return (\n    <Grid container spacing={1} justify='space-evenly'>\n    {matches && matches.length ?\n      matches && currentUser && <MapMatches />\n      :\n      <Typography variant=\"h4\">You don't have any match yet !</Typography>\n    }\n      <Snackbar  open={ open } autoHideDuration={6000} transitionDuration={1000} message={ alert } onClose={ handleClose } />\n    </Grid>\n  );\n}\n\nexport default MatchListPage;","import React from 'react';\nimport { Typography } from '@material-ui/core';\n\nconst NotFoundPage = () => (\n  <>\n    <br />\n    <Typography variant=\"h1\" align=\"center\">\n      404 <br />\n      Page Not Found\n    </Typography>\n  </>\n);\n\nexport default NotFoundPage;","import React, { useEffect }from 'react';\nimport { useSelector } from 'react-redux';\nimport PictureUpload from '../components/PictureUpload';\nimport DescriptionUpload from '../components/DescriptionUpload';\nimport HashtagsUpload from '../components/HashtagsUpload';\nimport OrientationUpload from '../components/OrientationUpload';\nimport SlidersOptions from '../components/SlidersOptions';\nimport Location from '../components/Location'\nimport { Grid, Card,  } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport Cookies from 'js-cookie';\n\n\n\nconst ProfilePage = () => {\n  const history = useHistory();\n  const currentUser = useSelector(state => state.objects.currentUser);\n\n  useEffect(() => {\n    if (!Cookies.get('token')) {\n      history.push('/');\n    } else if (currentUser && !currentUser.profilePicture) {\n      history.push('/create-profile');\n    }\n  }, []);\n\n  return (\n    <Grid container justify='space-evenly'>\n      <Grid item md={11} lg={10}>\n        <Grid container justify=\"space-evenly\" wrap=\"wrap\" alignItems=\"stretch\">\n          <Grid item md={12} lg={7}>\n              {currentUser && currentUser.profilePicture && <PictureUpload pictures={ currentUser.pictures } profilePicture={ currentUser.profilePicture } />}\n          </Grid>\n          <Grid item md={12} lg={4} >\n            <Card>\n              {currentUser && <OrientationUpload gender={ currentUser.gender } research_gender={ currentUser.research_gender } />}\n              {currentUser && currentUser.profilePicture && <Location latitude={ currentUser.location.latitude } longitude={ currentUser.location.longitude } />}\n              {currentUser && <SlidersOptions research_perimeter={ currentUser.research_perimeter } research_ageMin={ currentUser.research_age_min }\n              research_ageMax={ currentUser.research_age_max } />}\n            </Card>\n          </Grid>\n          <Grid item xs={12} >\n          {currentUser && <DescriptionUpload description={ currentUser.description } />}\n            {currentUser && <HashtagsUpload usrHashtags={ currentUser.hashtags } />}\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteObject } from '../redux/objects/actions';\nimport PasswdUpdate from '../components/PasswdUpdate';\nimport { Grid, makeStyles, Snackbar } from '@material-ui/core';\nimport EmailUpdate from '../components/EmailUpdate';\nimport LoginUpdate from '../components/LoginUpdate';\nimport DeleteAccount from '../components/DeleteAccount';\nimport Cookies from 'js-cookie';\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n    width: \"100%\"\n  }\n}));\n\nconst SettingsPage = () => {\n\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const currentUser = useSelector(state => state.objects.currentUser);\n  const alert = useSelector(state => state.objects.alert);\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (!Cookies.get('token')) {\n      history.push('/');\n    }\n    if (currentUser && !currentUser.profilePicture) {\n      history.push('/create-profile');\n    }\n  })\n\n  useEffect(() => {\n    if (alert) {\n      setOpen(true);\n    }\n  }, [alert]);\n\n  const handleClose = () => {\n    setOpen(false);\n    dispatch(deleteObject('alert'));\n  };\n\n  return (\n    <Grid container spacing={5} justify=\"center\" alignItems=\"stretch\">\n      <Grid item md={3} xs={11}>\n        <PasswdUpdate />\n      </Grid>\n      <Grid item md={3} xs={11}>\n        <EmailUpdate />\n      </Grid>\n      <Grid item md={3} xs={11}>\n        <LoginUpdate />\n      </Grid>\n      <div className={classes.grow} />\n      <Grid item xs={11}>\n        <DeleteAccount />\n      </Grid>\n      <Snackbar  open={ open } autoHideDuration={6000} transitionDuration={1000} message={ alert } onClose={ handleClose } />\n    </Grid>\n  );\n};\n\nexport default SettingsPage;","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\nimport { Route, Switch } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { CssBaseline } from '@material-ui/core';\nimport { HomePage, MatchListPage, CreateProfilePage, LogInPage, NotFoundPage, SettingsPage, ProfilePage } from './pages/index';\nimport { useDispatch } from 'react-redux';\nimport { fetchCurrentUser, fetchDatas } from './redux/requests';\nimport Cookies from 'js-cookie';\nimport { setObject } from './redux/objects/actions';\nimport { NavBar, SignUpForm, ProfileBox, Chat } from './components/index';\n\nimport socketIOClient from 'socket.io-client';\nimport { connectSocket } from './socket/notifications';\n\nconst App = () => {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const currentUser = useSelector(state => state.objects.currentUser);\n  const isLogged = useSelector(state => state.objects.auth);\n\n  useEffect(() => {\n    if (Cookies.get('token')) {\n        dispatch(fetchCurrentUser());\n        dispatch(fetchDatas('/matchs'));\n    }\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (currentUser) { \n      if (currentUser.pictures && !currentUser.profilePicture) {\n        history.push('/create-profile');\n      }\n      if (Cookies.get('token')) {\n        dispatch(setObject('auth', true));\n        dispatch(fetchDatas('/cibles', currentUser.location, currentUser.research_perimeter));\n        dispatch(fetchDatas('/notifications'));\n      }\n    }\n  }, [currentUser]);\n\n  useEffect(() => {\n    if (isLogged) {\n      const socket = socketIOClient('http://localhost:8080');\n      connectSocket(socket, currentUser.id, dispatch, fetchDatas);\n    }\n  }, [isLogged]);\n\n  return (\n      <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n        <div className=\"App\">\n          <NavBar />\n            <Switch>\n              <Route path=\"/\" component={HomePage} exact />\n              <Route path=\"/match\" component={MatchListPage} />\n              <Route path=\"/logIn\" component={LogInPage} />\n              <Route path=\"/signUp\" component={SignUpForm} />\n              <Route path=\"/profile\" component={ProfilePage} />\n              <Route path=\"/settings\" component={SettingsPage} />\n              <Route path=\"/create-profile\" component={CreateProfilePage} />\n              <Route path=\"/matchProfile/:usrId\" component={ProfileBox} />\n              <Route path=\"/accounts/confirm/:token\" component={LogInPage} />\n              <Route path=\"/chat/:to_id/:from_id\" component={Chat} />\n              <Route component={NotFoundPage} />\n            </Switch>\n        </div>\n        </MuiThemeProvider>\n  );\n}\n\nexport default App;","\nexport const connectSocket = (socket, usrId, dispatch, fetchDatas) => {\n\n  socket.on('connect', () => {\n      socket.emit('join', 'USR' + usrId);\n    })\n  socket.on('notification', (msg) => {\n    console.log(msg);\n    dispatch(fetchDatas('/notifications'));\n  })\n  socket.on('disconnect', () => {\n    console.log('socket disconnected');\n  })\n}","import _ from 'lodash'\n\nconst initialState = {\n  auth: false,\n  alert: null,\n  profileStep: 'picture',\n  location: {},\n  index: 0,\n  notifications: [],\n};\n\nconst objectsReducer = (state = initialState, action) => {\n  const { objectName, object, type, item, data, index } = action\n  let edited;\n  switch(type) {\n\n    case 'RESET_APP': {\n      return initialState;\n    }\n\n    case 'SET_OBJECT': {\n      if (!_.isEqual(state[objectName], object)) {\n        console.log('set_object', objectName);\n        return {\n          ...state,\n          [objectName]: object\n        }\n      }\n      break\n    }\n      \n    case 'UPDATE_OBJECT': {\n      if (state[objectName] && !_.isEqual(state[objectName], object)) {\n        console.log('update_object', objectName);\n        return {\n          ...state,\n          [objectName]: {\n            ...state[objectName],\n            ...object\n          }\n        }\n      }\n      break\n    }\n      \n    case 'REMOVE_OBJECT': {\n      console.log('remove_object: ', objectName);\n      return {\n        ...state,\n        [objectName]: null\n      }\n    }\n    \n    case 'ADD_ITEM': {\n      edited = [...state[objectName][item]];\n      edited.push(data);\n      return {\n        ...state,\n        [objectName] : {\n          ...state[objectName],\n          [item]: edited,\n        }\n      }\n    }\n\n      case 'REMOVE_ITEM': {\n        edited = [...state[objectName][item]];\n        let index = edited.indexOf(data);\n        if (index > -1) {\n          edited.splice(index, 1);\n        }\n        return {\n          ...state,\n          [objectName] : {\n            ...state[objectName],\n            [item]: edited,\n          }\n        }\n      }\n\n      case 'REMOVE_LIKED': {\n        let newCibles = [...state[objectName]];\n        newCibles.splice(index, 1);\n        return {\n          ...state,\n          [objectName] : newCibles\n        }\n      }\n\n    default:\n      return state\n  }\n  return state\n}\n\nexport default objectsReducer"," import { combineReducers, createStore, applyMiddleware } from 'redux'\n import thunk from 'redux-thunk'\n import objects from './objects/reducer'\n\n// combine all reducers\nconst rootReducer = combineReducers({\n  objects,\n})\n\n// create store\nconst store = createStore(rootReducer, applyMiddleware(thunk))\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nReactDOM.render(\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}